# Telegram Movie Search Bot

Этот проект представляет собой Telegram-бота, который помогает пользователям искать фильмы по названию, рейтингу и бюджету. Бот поддерживает пагинацию результатов и сохраняет историю запросов пользователей.

## Функциональность

- **Поиск фильмов по названию:** Пользователь вводит название фильма, и бот возвращает результат поиска.
- **Поиск фильмов по рейтингу:** Пользователь вводит рейтинг, и бот возвращает фильмы, соответствующие введенному рейтингу, с возможностью листать результаты.
- **Поиск фильмов по бюджету:** Пользователь выбирает диапазон бюджета, и бот возвращает фильмы, соответствующие выбранному бюджету, с поддержкой пагинации.
- **История запросов:** Бот сохраняет и отображает последние запросы пользователя.

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/yourusername/telegram-movie-bot.git
    cd telegram-movie-bot
    ```

2. Создайте виртуальное окружение и активируйте его:

    ```bash
    python3 -m venv venv
    source venv/bin/activate  # Для Windows: venv\Scripts\activate
    ```

3. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

4. Настройте переменные окружения. Создайте файл `.env` и добавьте в него ваш Telegram API токен и другие необходимые настройки:

    ```text
    TELEGRAM_API_TOKEN=your_telegram_api_token
    ```

## Использование

1. Запустите бота:

    ```bash
    python main.py
    ```

2. В Telegram найдите бота по его имени и начните взаимодействие, используя команды:

    - `/start` — Начало работы с ботом, приветственное сообщение.
    - `/name` — Поиск фильма по названию.
    - `/rating` — Поиск фильма по рейтингу.
    - `/budget` — Поиск фильма по бюджету.
    - `/history` — Показать последние запросы пользователя.
    - `/help` — Список доступных команд.

## Структура проекта

- `main.py` — Основной файл для запуска бота.
- `config.py` — Файл конфигурации, содержащий настройки бота.
- `database/` — Модели и настройки базы данных.
- `keyboards/` — Функции для генерации клавиатур (Inline и Reply).
- `states/` — Определение состояний для бота.
- `api/` — Логика для взаимодействия с внешними API, поиска фильмов по названию, рейтингу и бюджету.

## Зависимости

Все зависимости указаны в файле `requirements.txt`. Основные библиотеки:

- `python-telegram-bot` — Библиотека для создания Telegram-ботов.
- `peewee` — Легковесный ORM для работы с базой данных.
- `python-dotenv` — Загрузка переменных окружения из файла `.env`.
- `telegram-bot-pagination` — Библиотека для создания пагинации в Telegram-ботах.

